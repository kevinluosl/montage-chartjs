montageDefine("272500d","shim-array",{dependencies:["./shim-function","./generic-collection","./generic-order","weak-map"],factory:function(e,t,n){"use strict";function i(e,t){Object.defineProperty(Array.prototype,e,{value:t,writable:!0,configurable:!0,enumerable:!1})}function a(e,t,n){this.array=e,this.start=null==t?0:t,this.end=n}e("./shim-function");var r=e("./generic-collection"),s=e("./generic-order"),o=e("weak-map");n.exports=Array;var l=Array.prototype.splice,c=Array.prototype.slice;Array.empty=[],Object.freeze&&Object.freeze(Array.empty),Array.from=function(e){var t=[];return t.addEach(e),t},Array.unzip=function(e){for(var t=[],n=1/0,i=0;e.length>i;i++){var a=e[i];e[i]=a.toArray(),n>a.length&&(n=a.length)}for(var i=0;e.length>i;i++)for(var a=e[i],r=0;a.length>r;r++)n>r&&r in a&&(t[r]=t[r]||[],t[r][i]=a[r]);return t},i("addEach",r.prototype.addEach),i("deleteEach",r.prototype.deleteEach),i("toArray",r.prototype.toArray),i("toObject",r.prototype.toObject),i("all",r.prototype.all),i("any",r.prototype.any),i("min",r.prototype.min),i("max",r.prototype.max),i("sum",r.prototype.sum),i("average",r.prototype.average),i("only",r.prototype.only),i("flatten",r.prototype.flatten),i("zip",r.prototype.zip),i("enumerate",r.prototype.enumerate),i("group",r.prototype.group),i("sorted",r.prototype.sorted),i("reversed",r.prototype.reversed),i("constructClone",function(e){var t=new this.constructor;return t.addEach(e),t}),i("has",function(e,t){return-1!==this.find(e,t)}),i("get",function(e,t){if(+e!==e)throw Error("Indicies must be numbers");return!e in this?t:this[e]}),i("set",function(e,t){return this[e]=t,!0}),i("add",function(e){return this.push(e),!0}),i("delete",function(e,t){var n=this.find(e,t);return-1!==n?(this.splice(n,1),!0):!1}),i("deleteAll",function(e,t){t=t||this.contentEquals||Object.equals;for(var n=0,i=0;this.length>i;)t(e,this[i])?(this.swap(i,1),n++):i++;return n}),i("find",function(e,t){t=t||this.contentEquals||Object.equals;for(var n=0;this.length>n;n++)if(n in this&&t(e,this[n]))return n;return-1}),i("findLast",function(e,t){t=t||this.contentEquals||Object.equals;var n=this.length;do if(n--,n in this&&t(this[n],e))return n;while(n>0);return-1}),i("swap",function(e,t,n){var i,a,r,s,o;if(e>this.length&&(this.length=e),n!==void 0){if(i=[e,t],Array.isArray(n)||(n=c.call(n)),r=0,a=n.length,1e3>a){for(r;a>r;r++)i[r+2]=n[r];return l.apply(this,i)}for(o=l.apply(this,i),r;a>r;){for(i=[e+r,0],s=2;1002>s&&a>r;s++,r++)i[s]=n[r];l.apply(this,i)}return o}return t!==void 0?l.call(this,e,t):e!==void 0?l.call(this,e):[]}),i("peek",function(){return this[0]}),i("poke",function(e){this.length>0&&(this[0]=e)}),i("peekBack",function(){return this.length>0?this[this.length-1]:void 0}),i("pokeBack",function(e){this.length>0&&(this[this.length-1]=e)}),i("one",function(){for(var e in this)if(Object.owns(this,e))return this[e]}),i("clear",function(){return this.length=0,this}),i("compare",function(e,t){t=t||Object.compare;var n,i,a,r,o;if(this===e)return 0;if(!e||!Array.isArray(e))return s.prototype.compare.call(this,e,t);for(i=Math.min(this.length,e.length),n=0;i>n;n++)if(n in this){if(!(n in e))return-1;if(a=this[n],r=e[n],o=t(a,r))return o}else if(n in e)return 1;return this.length-e.length}),i("equals",function(e,t){t=t||Object.equals;var n,i,a=0,r=this.length;if(this===e)return!0;if(!e||!Array.isArray(e))return s.prototype.equals.call(this,e);if(r!==e.length)return!1;for(;r>a;++a)if(a in this){if(!(a in e))return!1;if(n=this[a],i=e[a],!t(n,i))return!1}else if(a in e)return!1;return!0}),i("clone",function(e,t){if(null==e)e=1/0;else if(0===e)return this;if(t=t||new o,t.has(this))return t.get(this);var n=Array(this.length);t.set(this,n);for(var i in this)n[i]=Object.clone(this[i],e-1,t);return n}),i("iterate",function(e,t){return new a(this,e,t)}),i("Iterator",a),a.prototype.next=function(){if(this.start===(null==this.end?this.array.length:this.end))throw StopIteration;return this.array[this.start++]}}});