var Component=require("montage/ui/component").Component;exports.DynamicElement=Component.specialize({hasTemplate:{value:!1},_innerHTML:{value:null},_usingInnerHTML:{value:null},innerHTML:{get:function(){return this._innerHTML},set:function(t){this._usingInnerHTML=!0,this._innerHTML!==t&&(this._innerHTML=t,this.needsDraw=!0)}},defaultHTML:{value:""},_allowedTagNames:{value:null},allowedTagNames:{get:function(){return this._allowedTagNames},set:function(t){this._allowedTagNames!==t&&(this._allowedTagNames=t,this.needsDraw=!0)}},_range:{value:null},enterDocument:{value:function(t){if(t){var e=document.createRange();this.element.className,e.selectNodeContents(this.element),this._range=e}}},_contentNode:{value:null},draw:{value:function(){var t,e,n=this.innerHTML||0===this.innerHTML?this.innerHTML:this.defaultHTML,i=this.allowedTagNames,a=this._range;this._usingInnerHTML&&(null!==i?(this._contentNode=null,a.deleteContents(),t=a.createContextualFragment(n),e=0!==i.length?t.querySelectorAll("*:not("+i.join("):not(")+")"):t.childNodes,0===e.length?(a.insertNode(t),0===a.endOffset&&a.selectNodeContents(this.element)):console.warn("Some Elements Not Allowed ",e)):(t=this._contentNode,null===t?(a.deleteContents(),this._contentNode=t=document.createTextNode(n),a.insertNode(t),0===a.endOffset&&a.selectNodeContents(this.element)):t.data=n))}}});