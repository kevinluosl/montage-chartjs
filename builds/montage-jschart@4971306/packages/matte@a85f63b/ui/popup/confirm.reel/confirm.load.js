montageDefine("a85f63b","ui/popup/confirm.reel/confirm",{dependencies:["montage/ui/component","ui/popup/popup.reel"],factory:function(t,e){var n=t("montage/ui/component").Component,i=t("ui/popup/popup.reel").Popup,a=e.Confirm=n.specialize({hasTemplate:{value:!0},title:{value:"Confirm"},msg:{value:"Are you sure?"},okLabel:{value:"OK"},cancelLabel:{value:"Cancel"},_popup:{value:null},popup:{set:function(t){this._popup=t},get:function(){return this._popup}},okCallback:{value:null},cancelCallback:{value:null},enterDocument:{value:function(t){t&&this.element.addEventListener("keyup",this,!1)}},draw:{value:function(){}},handleKeyup:{value:function(t){13==t.keyCode?this.handleOkAction(t):27==t.keyCode&&this.handleCancelAction(t)}},handleOkAction:{value:function(t){this.okCallback&&this.okCallback.call(this,t);var e=document.createEvent("CustomEvent");e.initCustomEvent("montage_confirm_ok",!0,!0,null),this.dispatchEvent(e),this.popup.hide()}},handleCancelAction:{value:function(t){this.cancelCallback&&this.cancelCallback.call(this,t);var e=document.createEvent("CustomEvent");e.initCustomEvent("montage_confirm_cancel",!0,!0,null),this.dispatchEvent(e),this.popup.hide()}},show:{value:function(t,e,n){var r,s=this.application._confirmPopup;s||(s=new i,this.popup=s,s.type="confirm",s.title="Confirmation",s.modal=!0,this.application._confirmPopup=s,r=new a,s.content=r),r=s.content,"string"==typeof t?(r.msg=t,r.okLabel="OK",r.cancelLabel="Cancel"):(r.msg=t.message,r.okLabel=t.okLabel||"OK",r.cancelLabel=t.cancelLabel||"Cancel"),r.okCallback=e||null,r.cancelCallback=n||null,s.show()}}})}});